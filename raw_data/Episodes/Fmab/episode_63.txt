While being pummeled by Edward, Father desperately tries to absorb the philosopher's stone from Greed. 
However, Greed decides to part from Ling's body to protect Ling's soul, sacrificing himself by using his carbonization ability to turn Father's body into weak charcoal. 
Father extinguishes Greed's soul, but Edward punches through Father's chest, releasing all the souls of the people of Xerxes and sending Father through the Gate of Truth where he is absorbed and trapped for all eternity. 
In the wake of Father's defeat, everyone mourns Alphonse's sacrifice. 
Edward rejects using a philosopher's stone to bring him back to life, even after Hohenheim offers his final life as an apology for the pain suffered by the Elric brothers. 
Edward ultimately decides to perform a human transmutation on himself, sacrificing his own gate and his ability to ever again use alchemy with it. 
In return for trading his ability to perform alchemy, Edward is allowed to bring Alphonse back with him in his original body. 
As everyone recuperates from the battle, Hohenheim returns to Resembool and dies peacefully near Trisha's grave, grateful for having known her and his sons.